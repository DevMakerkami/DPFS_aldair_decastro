<%- include('../partials/head') %>
<body>
  <%- include('../partials/header') %>
  <main>
    <section class="cart">
      <h1>Tu Carrito</h1>
      <% if (cart.length === 0) { %>
        <p>El carro esta vac√≠o.</p>
      <% } else { %>
        <ul class="cart-items">
          <% cart.forEach(item => { %>
            <li class="cart-item">
              <img src="<%= item.product.image %>" alt="<%= item.product.name %>">
              <div class="item-info">
                <h3><%= item.product.name %></h3>
                <p class="price">$<%= item.product.price.toFixed(2) %></p>
              </div>
              <div class="item-quantity">
                <button class="quantity-btn minus" data-id="<%= item.product.id %>">-</button>
                <input type="number" value="<%= item.quantity %>" min="1" data-id="<%= item.product.id %>">
                <button class="quantity-btn plus" data-id="<%= item.product.id %>">+</button>
              </div>
              <button class="remove-item" data-id="<%= item.product.id %>">Quitar</button>
            </li>
          <% }); %>
        </ul>
        <div class="cart-total">
          <h3>Total: $<%= cart.reduce((total, item) => total + item.product.price * item.quantity, 0).toFixed(2) %></h3>
          <button class="checkout-btn">Proceder con la compra</button>
        </div>
      <% } %>
    </section>
  </main>
  <%- include('../partials/footer') %>
  <script src="/js/cart.js"></script>
</body>
</html>